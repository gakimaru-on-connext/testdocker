<!DOCTYPE html>
    <html>
    <head>
        <meta charset="UTF-8">
        <title>Docker Test</title>
        <style>
/* From extension vscode.github */
/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/

.vscode-dark img[src$=\#gh-light-mode-only],
.vscode-light img[src$=\#gh-dark-mode-only] {
	display: none;
}

/* From extension vscode.markdown-math */
@font-face{font-family:KaTeX_AMS;font-style:normal;font-weight:400;src:url(fonts/KaTeX_AMS-Regular.woff2) format("woff2"),url(fonts/KaTeX_AMS-Regular.woff) format("woff"),url(fonts/KaTeX_AMS-Regular.ttf) format("truetype")}@font-face{font-family:KaTeX_Caligraphic;font-style:normal;font-weight:700;src:url(fonts/KaTeX_Caligraphic-Bold.woff2) format("woff2"),url(fonts/KaTeX_Caligraphic-Bold.woff) format("woff"),url(fonts/KaTeX_Caligraphic-Bold.ttf) format("truetype")}@font-face{font-family:KaTeX_Caligraphic;font-style:normal;font-weight:400;src:url(fonts/KaTeX_Caligraphic-Regular.woff2) format("woff2"),url(fonts/KaTeX_Caligraphic-Regular.woff) format("woff"),url(fonts/KaTeX_Caligraphic-Regular.ttf) format("truetype")}@font-face{font-family:KaTeX_Fraktur;font-style:normal;font-weight:700;src:url(fonts/KaTeX_Fraktur-Bold.woff2) format("woff2"),url(fonts/KaTeX_Fraktur-Bold.woff) format("woff"),url(fonts/KaTeX_Fraktur-Bold.ttf) format("truetype")}@font-face{font-family:KaTeX_Fraktur;font-style:normal;font-weight:400;src:url(fonts/KaTeX_Fraktur-Regular.woff2) format("woff2"),url(fonts/KaTeX_Fraktur-Regular.woff) format("woff"),url(fonts/KaTeX_Fraktur-Regular.ttf) format("truetype")}@font-face{font-family:KaTeX_Main;font-style:normal;font-weight:700;src:url(fonts/KaTeX_Main-Bold.woff2) format("woff2"),url(fonts/KaTeX_Main-Bold.woff) format("woff"),url(fonts/KaTeX_Main-Bold.ttf) format("truetype")}@font-face{font-family:KaTeX_Main;font-style:italic;font-weight:700;src:url(fonts/KaTeX_Main-BoldItalic.woff2) format("woff2"),url(fonts/KaTeX_Main-BoldItalic.woff) format("woff"),url(fonts/KaTeX_Main-BoldItalic.ttf) format("truetype")}@font-face{font-family:KaTeX_Main;font-style:italic;font-weight:400;src:url(fonts/KaTeX_Main-Italic.woff2) format("woff2"),url(fonts/KaTeX_Main-Italic.woff) format("woff"),url(fonts/KaTeX_Main-Italic.ttf) format("truetype")}@font-face{font-family:KaTeX_Main;font-style:normal;font-weight:400;src:url(fonts/KaTeX_Main-Regular.woff2) format("woff2"),url(fonts/KaTeX_Main-Regular.woff) format("woff"),url(fonts/KaTeX_Main-Regular.ttf) format("truetype")}@font-face{font-family:KaTeX_Math;font-style:italic;font-weight:700;src:url(fonts/KaTeX_Math-BoldItalic.woff2) format("woff2"),url(fonts/KaTeX_Math-BoldItalic.woff) format("woff"),url(fonts/KaTeX_Math-BoldItalic.ttf) format("truetype")}@font-face{font-family:KaTeX_Math;font-style:italic;font-weight:400;src:url(fonts/KaTeX_Math-Italic.woff2) format("woff2"),url(fonts/KaTeX_Math-Italic.woff) format("woff"),url(fonts/KaTeX_Math-Italic.ttf) format("truetype")}@font-face{font-family:"KaTeX_SansSerif";font-style:normal;font-weight:700;src:url(fonts/KaTeX_SansSerif-Bold.woff2) format("woff2"),url(fonts/KaTeX_SansSerif-Bold.woff) format("woff"),url(fonts/KaTeX_SansSerif-Bold.ttf) format("truetype")}@font-face{font-family:"KaTeX_SansSerif";font-style:italic;font-weight:400;src:url(fonts/KaTeX_SansSerif-Italic.woff2) format("woff2"),url(fonts/KaTeX_SansSerif-Italic.woff) format("woff"),url(fonts/KaTeX_SansSerif-Italic.ttf) format("truetype")}@font-face{font-family:"KaTeX_SansSerif";font-style:normal;font-weight:400;src:url(fonts/KaTeX_SansSerif-Regular.woff2) format("woff2"),url(fonts/KaTeX_SansSerif-Regular.woff) format("woff"),url(fonts/KaTeX_SansSerif-Regular.ttf) format("truetype")}@font-face{font-family:KaTeX_Script;font-style:normal;font-weight:400;src:url(fonts/KaTeX_Script-Regular.woff2) format("woff2"),url(fonts/KaTeX_Script-Regular.woff) format("woff"),url(fonts/KaTeX_Script-Regular.ttf) format("truetype")}@font-face{font-family:KaTeX_Size1;font-style:normal;font-weight:400;src:url(fonts/KaTeX_Size1-Regular.woff2) format("woff2"),url(fonts/KaTeX_Size1-Regular.woff) format("woff"),url(fonts/KaTeX_Size1-Regular.ttf) format("truetype")}@font-face{font-family:KaTeX_Size2;font-style:normal;font-weight:400;src:url(fonts/KaTeX_Size2-Regular.woff2) format("woff2"),url(fonts/KaTeX_Size2-Regular.woff) format("woff"),url(fonts/KaTeX_Size2-Regular.ttf) format("truetype")}@font-face{font-family:KaTeX_Size3;font-style:normal;font-weight:400;src:url(fonts/KaTeX_Size3-Regular.woff2) format("woff2"),url(fonts/KaTeX_Size3-Regular.woff) format("woff"),url(fonts/KaTeX_Size3-Regular.ttf) format("truetype")}@font-face{font-family:KaTeX_Size4;font-style:normal;font-weight:400;src:url(fonts/KaTeX_Size4-Regular.woff2) format("woff2"),url(fonts/KaTeX_Size4-Regular.woff) format("woff"),url(fonts/KaTeX_Size4-Regular.ttf) format("truetype")}@font-face{font-family:KaTeX_Typewriter;font-style:normal;font-weight:400;src:url(fonts/KaTeX_Typewriter-Regular.woff2) format("woff2"),url(fonts/KaTeX_Typewriter-Regular.woff) format("woff"),url(fonts/KaTeX_Typewriter-Regular.ttf) format("truetype")}.katex{text-rendering:auto;font:normal 1.21em KaTeX_Main,Times New Roman,serif;line-height:1.2;text-indent:0}.katex *{-ms-high-contrast-adjust:none!important;border-color:currentColor}.katex .katex-version:after{content:"0.13.24"}.katex .katex-mathml{clip:rect(1px,1px,1px,1px);border:0;height:1px;overflow:hidden;padding:0;position:absolute;width:1px}.katex .katex-html>.newline{display:block}.katex .base{position:relative;white-space:nowrap;width:-webkit-min-content;width:-moz-min-content;width:min-content}.katex .base,.katex .strut{display:inline-block}.katex .textbf{font-weight:700}.katex .textit{font-style:italic}.katex .textrm{font-family:KaTeX_Main}.katex .textsf{font-family:KaTeX_SansSerif}.katex .texttt{font-family:KaTeX_Typewriter}.katex .mathnormal{font-family:KaTeX_Math;font-style:italic}.katex .mathit{font-family:KaTeX_Main;font-style:italic}.katex .mathrm{font-style:normal}.katex .mathbf{font-family:KaTeX_Main;font-weight:700}.katex .boldsymbol{font-family:KaTeX_Math;font-style:italic;font-weight:700}.katex .amsrm,.katex .mathbb,.katex .textbb{font-family:KaTeX_AMS}.katex .mathcal{font-family:KaTeX_Caligraphic}.katex .mathfrak,.katex .textfrak{font-family:KaTeX_Fraktur}.katex .mathtt{font-family:KaTeX_Typewriter}.katex .mathscr,.katex .textscr{font-family:KaTeX_Script}.katex .mathsf,.katex .textsf{font-family:KaTeX_SansSerif}.katex .mathboldsf,.katex .textboldsf{font-family:KaTeX_SansSerif;font-weight:700}.katex .mathitsf,.katex .textitsf{font-family:KaTeX_SansSerif;font-style:italic}.katex .mainrm{font-family:KaTeX_Main;font-style:normal}.katex .vlist-t{border-collapse:collapse;display:inline-table;table-layout:fixed}.katex .vlist-r{display:table-row}.katex .vlist{display:table-cell;position:relative;vertical-align:bottom}.katex .vlist>span{display:block;height:0;position:relative}.katex .vlist>span>span{display:inline-block}.katex .vlist>span>.pstrut{overflow:hidden;width:0}.katex .vlist-t2{margin-right:-2px}.katex .vlist-s{display:table-cell;font-size:1px;min-width:2px;vertical-align:bottom;width:2px}.katex .vbox{align-items:baseline;display:inline-flex;flex-direction:column}.katex .hbox{width:100%}.katex .hbox,.katex .thinbox{display:inline-flex;flex-direction:row}.katex .thinbox{max-width:0;width:0}.katex .msupsub{text-align:left}.katex .mfrac>span>span{text-align:center}.katex .mfrac .frac-line{border-bottom-style:solid;display:inline-block;width:100%}.katex .hdashline,.katex .hline,.katex .mfrac .frac-line,.katex .overline .overline-line,.katex .rule,.katex .underline .underline-line{min-height:1px}.katex .mspace{display:inline-block}.katex .clap,.katex .llap,.katex .rlap{position:relative;width:0}.katex .clap>.inner,.katex .llap>.inner,.katex .rlap>.inner{position:absolute}.katex .clap>.fix,.katex .llap>.fix,.katex .rlap>.fix{display:inline-block}.katex .llap>.inner{right:0}.katex .clap>.inner,.katex .rlap>.inner{left:0}.katex .clap>.inner>span{margin-left:-50%;margin-right:50%}.katex .rule{border:0 solid;display:inline-block;position:relative}.katex .hline,.katex .overline .overline-line,.katex .underline .underline-line{border-bottom-style:solid;display:inline-block;width:100%}.katex .hdashline{border-bottom-style:dashed;display:inline-block;width:100%}.katex .sqrt>.root{margin-left:.27777778em;margin-right:-.55555556em}.katex .fontsize-ensurer.reset-size1.size1,.katex .sizing.reset-size1.size1{font-size:1em}.katex .fontsize-ensurer.reset-size1.size2,.katex .sizing.reset-size1.size2{font-size:1.2em}.katex .fontsize-ensurer.reset-size1.size3,.katex .sizing.reset-size1.size3{font-size:1.4em}.katex .fontsize-ensurer.reset-size1.size4,.katex .sizing.reset-size1.size4{font-size:1.6em}.katex .fontsize-ensurer.reset-size1.size5,.katex .sizing.reset-size1.size5{font-size:1.8em}.katex .fontsize-ensurer.reset-size1.size6,.katex .sizing.reset-size1.size6{font-size:2em}.katex .fontsize-ensurer.reset-size1.size7,.katex .sizing.reset-size1.size7{font-size:2.4em}.katex .fontsize-ensurer.reset-size1.size8,.katex .sizing.reset-size1.size8{font-size:2.88em}.katex .fontsize-ensurer.reset-size1.size9,.katex .sizing.reset-size1.size9{font-size:3.456em}.katex .fontsize-ensurer.reset-size1.size10,.katex .sizing.reset-size1.size10{font-size:4.148em}.katex .fontsize-ensurer.reset-size1.size11,.katex .sizing.reset-size1.size11{font-size:4.976em}.katex .fontsize-ensurer.reset-size2.size1,.katex .sizing.reset-size2.size1{font-size:.83333333em}.katex .fontsize-ensurer.reset-size2.size2,.katex .sizing.reset-size2.size2{font-size:1em}.katex .fontsize-ensurer.reset-size2.size3,.katex .sizing.reset-size2.size3{font-size:1.16666667em}.katex .fontsize-ensurer.reset-size2.size4,.katex .sizing.reset-size2.size4{font-size:1.33333333em}.katex .fontsize-ensurer.reset-size2.size5,.katex .sizing.reset-size2.size5{font-size:1.5em}.katex .fontsize-ensurer.reset-size2.size6,.katex .sizing.reset-size2.size6{font-size:1.66666667em}.katex .fontsize-ensurer.reset-size2.size7,.katex .sizing.reset-size2.size7{font-size:2em}.katex .fontsize-ensurer.reset-size2.size8,.katex .sizing.reset-size2.size8{font-size:2.4em}.katex .fontsize-ensurer.reset-size2.size9,.katex .sizing.reset-size2.size9{font-size:2.88em}.katex .fontsize-ensurer.reset-size2.size10,.katex .sizing.reset-size2.size10{font-size:3.45666667em}.katex .fontsize-ensurer.reset-size2.size11,.katex .sizing.reset-size2.size11{font-size:4.14666667em}.katex .fontsize-ensurer.reset-size3.size1,.katex .sizing.reset-size3.size1{font-size:.71428571em}.katex .fontsize-ensurer.reset-size3.size2,.katex .sizing.reset-size3.size2{font-size:.85714286em}.katex .fontsize-ensurer.reset-size3.size3,.katex .sizing.reset-size3.size3{font-size:1em}.katex .fontsize-ensurer.reset-size3.size4,.katex .sizing.reset-size3.size4{font-size:1.14285714em}.katex .fontsize-ensurer.reset-size3.size5,.katex .sizing.reset-size3.size5{font-size:1.28571429em}.katex .fontsize-ensurer.reset-size3.size6,.katex .sizing.reset-size3.size6{font-size:1.42857143em}.katex .fontsize-ensurer.reset-size3.size7,.katex .sizing.reset-size3.size7{font-size:1.71428571em}.katex .fontsize-ensurer.reset-size3.size8,.katex .sizing.reset-size3.size8{font-size:2.05714286em}.katex .fontsize-ensurer.reset-size3.size9,.katex .sizing.reset-size3.size9{font-size:2.46857143em}.katex .fontsize-ensurer.reset-size3.size10,.katex .sizing.reset-size3.size10{font-size:2.96285714em}.katex .fontsize-ensurer.reset-size3.size11,.katex .sizing.reset-size3.size11{font-size:3.55428571em}.katex .fontsize-ensurer.reset-size4.size1,.katex .sizing.reset-size4.size1{font-size:.625em}.katex .fontsize-ensurer.reset-size4.size2,.katex .sizing.reset-size4.size2{font-size:.75em}.katex .fontsize-ensurer.reset-size4.size3,.katex .sizing.reset-size4.size3{font-size:.875em}.katex .fontsize-ensurer.reset-size4.size4,.katex .sizing.reset-size4.size4{font-size:1em}.katex .fontsize-ensurer.reset-size4.size5,.katex .sizing.reset-size4.size5{font-size:1.125em}.katex .fontsize-ensurer.reset-size4.size6,.katex .sizing.reset-size4.size6{font-size:1.25em}.katex .fontsize-ensurer.reset-size4.size7,.katex .sizing.reset-size4.size7{font-size:1.5em}.katex .fontsize-ensurer.reset-size4.size8,.katex .sizing.reset-size4.size8{font-size:1.8em}.katex .fontsize-ensurer.reset-size4.size9,.katex .sizing.reset-size4.size9{font-size:2.16em}.katex .fontsize-ensurer.reset-size4.size10,.katex .sizing.reset-size4.size10{font-size:2.5925em}.katex .fontsize-ensurer.reset-size4.size11,.katex .sizing.reset-size4.size11{font-size:3.11em}.katex .fontsize-ensurer.reset-size5.size1,.katex .sizing.reset-size5.size1{font-size:.55555556em}.katex .fontsize-ensurer.reset-size5.size2,.katex .sizing.reset-size5.size2{font-size:.66666667em}.katex .fontsize-ensurer.reset-size5.size3,.katex .sizing.reset-size5.size3{font-size:.77777778em}.katex .fontsize-ensurer.reset-size5.size4,.katex .sizing.reset-size5.size4{font-size:.88888889em}.katex .fontsize-ensurer.reset-size5.size5,.katex .sizing.reset-size5.size5{font-size:1em}.katex .fontsize-ensurer.reset-size5.size6,.katex .sizing.reset-size5.size6{font-size:1.11111111em}.katex .fontsize-ensurer.reset-size5.size7,.katex .sizing.reset-size5.size7{font-size:1.33333333em}.katex .fontsize-ensurer.reset-size5.size8,.katex .sizing.reset-size5.size8{font-size:1.6em}.katex .fontsize-ensurer.reset-size5.size9,.katex .sizing.reset-size5.size9{font-size:1.92em}.katex .fontsize-ensurer.reset-size5.size10,.katex .sizing.reset-size5.size10{font-size:2.30444444em}.katex .fontsize-ensurer.reset-size5.size11,.katex .sizing.reset-size5.size11{font-size:2.76444444em}.katex .fontsize-ensurer.reset-size6.size1,.katex .sizing.reset-size6.size1{font-size:.5em}.katex .fontsize-ensurer.reset-size6.size2,.katex .sizing.reset-size6.size2{font-size:.6em}.katex .fontsize-ensurer.reset-size6.size3,.katex .sizing.reset-size6.size3{font-size:.7em}.katex .fontsize-ensurer.reset-size6.size4,.katex .sizing.reset-size6.size4{font-size:.8em}.katex .fontsize-ensurer.reset-size6.size5,.katex .sizing.reset-size6.size5{font-size:.9em}.katex .fontsize-ensurer.reset-size6.size6,.katex .sizing.reset-size6.size6{font-size:1em}.katex .fontsize-ensurer.reset-size6.size7,.katex .sizing.reset-size6.size7{font-size:1.2em}.katex .fontsize-ensurer.reset-size6.size8,.katex .sizing.reset-size6.size8{font-size:1.44em}.katex .fontsize-ensurer.reset-size6.size9,.katex .sizing.reset-size6.size9{font-size:1.728em}.katex .fontsize-ensurer.reset-size6.size10,.katex .sizing.reset-size6.size10{font-size:2.074em}.katex .fontsize-ensurer.reset-size6.size11,.katex .sizing.reset-size6.size11{font-size:2.488em}.katex .fontsize-ensurer.reset-size7.size1,.katex .sizing.reset-size7.size1{font-size:.41666667em}.katex .fontsize-ensurer.reset-size7.size2,.katex .sizing.reset-size7.size2{font-size:.5em}.katex .fontsize-ensurer.reset-size7.size3,.katex .sizing.reset-size7.size3{font-size:.58333333em}.katex .fontsize-ensurer.reset-size7.size4,.katex .sizing.reset-size7.size4{font-size:.66666667em}.katex .fontsize-ensurer.reset-size7.size5,.katex .sizing.reset-size7.size5{font-size:.75em}.katex .fontsize-ensurer.reset-size7.size6,.katex .sizing.reset-size7.size6{font-size:.83333333em}.katex .fontsize-ensurer.reset-size7.size7,.katex .sizing.reset-size7.size7{font-size:1em}.katex .fontsize-ensurer.reset-size7.size8,.katex .sizing.reset-size7.size8{font-size:1.2em}.katex .fontsize-ensurer.reset-size7.size9,.katex .sizing.reset-size7.size9{font-size:1.44em}.katex .fontsize-ensurer.reset-size7.size10,.katex .sizing.reset-size7.size10{font-size:1.72833333em}.katex .fontsize-ensurer.reset-size7.size11,.katex .sizing.reset-size7.size11{font-size:2.07333333em}.katex .fontsize-ensurer.reset-size8.size1,.katex .sizing.reset-size8.size1{font-size:.34722222em}.katex .fontsize-ensurer.reset-size8.size2,.katex .sizing.reset-size8.size2{font-size:.41666667em}.katex .fontsize-ensurer.reset-size8.size3,.katex .sizing.reset-size8.size3{font-size:.48611111em}.katex .fontsize-ensurer.reset-size8.size4,.katex .sizing.reset-size8.size4{font-size:.55555556em}.katex .fontsize-ensurer.reset-size8.size5,.katex .sizing.reset-size8.size5{font-size:.625em}.katex .fontsize-ensurer.reset-size8.size6,.katex .sizing.reset-size8.size6{font-size:.69444444em}.katex .fontsize-ensurer.reset-size8.size7,.katex .sizing.reset-size8.size7{font-size:.83333333em}.katex .fontsize-ensurer.reset-size8.size8,.katex .sizing.reset-size8.size8{font-size:1em}.katex .fontsize-ensurer.reset-size8.size9,.katex .sizing.reset-size8.size9{font-size:1.2em}.katex .fontsize-ensurer.reset-size8.size10,.katex .sizing.reset-size8.size10{font-size:1.44027778em}.katex .fontsize-ensurer.reset-size8.size11,.katex .sizing.reset-size8.size11{font-size:1.72777778em}.katex .fontsize-ensurer.reset-size9.size1,.katex .sizing.reset-size9.size1{font-size:.28935185em}.katex .fontsize-ensurer.reset-size9.size2,.katex .sizing.reset-size9.size2{font-size:.34722222em}.katex .fontsize-ensurer.reset-size9.size3,.katex .sizing.reset-size9.size3{font-size:.40509259em}.katex .fontsize-ensurer.reset-size9.size4,.katex .sizing.reset-size9.size4{font-size:.46296296em}.katex .fontsize-ensurer.reset-size9.size5,.katex .sizing.reset-size9.size5{font-size:.52083333em}.katex .fontsize-ensurer.reset-size9.size6,.katex .sizing.reset-size9.size6{font-size:.5787037em}.katex .fontsize-ensurer.reset-size9.size7,.katex .sizing.reset-size9.size7{font-size:.69444444em}.katex .fontsize-ensurer.reset-size9.size8,.katex .sizing.reset-size9.size8{font-size:.83333333em}.katex .fontsize-ensurer.reset-size9.size9,.katex .sizing.reset-size9.size9{font-size:1em}.katex .fontsize-ensurer.reset-size9.size10,.katex .sizing.reset-size9.size10{font-size:1.20023148em}.katex .fontsize-ensurer.reset-size9.size11,.katex .sizing.reset-size9.size11{font-size:1.43981481em}.katex .fontsize-ensurer.reset-size10.size1,.katex .sizing.reset-size10.size1{font-size:.24108004em}.katex .fontsize-ensurer.reset-size10.size2,.katex .sizing.reset-size10.size2{font-size:.28929605em}.katex .fontsize-ensurer.reset-size10.size3,.katex .sizing.reset-size10.size3{font-size:.33751205em}.katex .fontsize-ensurer.reset-size10.size4,.katex .sizing.reset-size10.size4{font-size:.38572806em}.katex .fontsize-ensurer.reset-size10.size5,.katex .sizing.reset-size10.size5{font-size:.43394407em}.katex .fontsize-ensurer.reset-size10.size6,.katex .sizing.reset-size10.size6{font-size:.48216008em}.katex .fontsize-ensurer.reset-size10.size7,.katex .sizing.reset-size10.size7{font-size:.57859209em}.katex .fontsize-ensurer.reset-size10.size8,.katex .sizing.reset-size10.size8{font-size:.69431051em}.katex .fontsize-ensurer.reset-size10.size9,.katex .sizing.reset-size10.size9{font-size:.83317261em}.katex .fontsize-ensurer.reset-size10.size10,.katex .sizing.reset-size10.size10{font-size:1em}.katex .fontsize-ensurer.reset-size10.size11,.katex .sizing.reset-size10.size11{font-size:1.19961427em}.katex .fontsize-ensurer.reset-size11.size1,.katex .sizing.reset-size11.size1{font-size:.20096463em}.katex .fontsize-ensurer.reset-size11.size2,.katex .sizing.reset-size11.size2{font-size:.24115756em}.katex .fontsize-ensurer.reset-size11.size3,.katex .sizing.reset-size11.size3{font-size:.28135048em}.katex .fontsize-ensurer.reset-size11.size4,.katex .sizing.reset-size11.size4{font-size:.32154341em}.katex .fontsize-ensurer.reset-size11.size5,.katex .sizing.reset-size11.size5{font-size:.36173633em}.katex .fontsize-ensurer.reset-size11.size6,.katex .sizing.reset-size11.size6{font-size:.40192926em}.katex .fontsize-ensurer.reset-size11.size7,.katex .sizing.reset-size11.size7{font-size:.48231511em}.katex .fontsize-ensurer.reset-size11.size8,.katex .sizing.reset-size11.size8{font-size:.57877814em}.katex .fontsize-ensurer.reset-size11.size9,.katex .sizing.reset-size11.size9{font-size:.69453376em}.katex .fontsize-ensurer.reset-size11.size10,.katex .sizing.reset-size11.size10{font-size:.83360129em}.katex .fontsize-ensurer.reset-size11.size11,.katex .sizing.reset-size11.size11{font-size:1em}.katex .delimsizing.size1{font-family:KaTeX_Size1}.katex .delimsizing.size2{font-family:KaTeX_Size2}.katex .delimsizing.size3{font-family:KaTeX_Size3}.katex .delimsizing.size4{font-family:KaTeX_Size4}.katex .delimsizing.mult .delim-size1>span{font-family:KaTeX_Size1}.katex .delimsizing.mult .delim-size4>span{font-family:KaTeX_Size4}.katex .nulldelimiter{display:inline-block;width:.12em}.katex .delimcenter,.katex .op-symbol{position:relative}.katex .op-symbol.small-op{font-family:KaTeX_Size1}.katex .op-symbol.large-op{font-family:KaTeX_Size2}.katex .accent>.vlist-t,.katex .op-limits>.vlist-t{text-align:center}.katex .accent .accent-body{position:relative}.katex .accent .accent-body:not(.accent-full){width:0}.katex .overlay{display:block}.katex .mtable .vertical-separator{display:inline-block;min-width:1px}.katex .mtable .arraycolsep{display:inline-block}.katex .mtable .col-align-c>.vlist-t{text-align:center}.katex .mtable .col-align-l>.vlist-t{text-align:left}.katex .mtable .col-align-r>.vlist-t{text-align:right}.katex .svg-align{text-align:left}.katex svg{fill:currentColor;stroke:currentColor;fill-rule:nonzero;fill-opacity:1;stroke-width:1;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;display:block;height:inherit;position:absolute;width:100%}.katex svg path{stroke:none}.katex img{border-style:none;max-height:none;max-width:none;min-height:0;min-width:0}.katex .stretchy{display:block;overflow:hidden;position:relative;width:100%}.katex .stretchy:after,.katex .stretchy:before{content:""}.katex .hide-tail{overflow:hidden;position:relative;width:100%}.katex .halfarrow-left{left:0;overflow:hidden;position:absolute;width:50.2%}.katex .halfarrow-right{overflow:hidden;position:absolute;right:0;width:50.2%}.katex .brace-left{left:0;overflow:hidden;position:absolute;width:25.1%}.katex .brace-center{left:25%;overflow:hidden;position:absolute;width:50%}.katex .brace-right{overflow:hidden;position:absolute;right:0;width:25.1%}.katex .x-arrow-pad{padding:0 .5em}.katex .cd-arrow-pad{padding:0 .55556em 0 .27778em}.katex .mover,.katex .munder,.katex .x-arrow{text-align:center}.katex .boxpad{padding:0 .3em}.katex .fbox,.katex .fcolorbox{border:.04em solid;box-sizing:border-box}.katex .cancel-pad{padding:0 .2em}.katex .cancel-lap{margin-left:-.2em;margin-right:-.2em}.katex .sout{border-bottom-style:solid;border-bottom-width:.08em}.katex .angl{border-right:.049em solid;border-top:.049em solid;box-sizing:border-box;margin-right:.03889em}.katex .anglpad{padding:0 .03889em}.katex .eqn-num:before{content:"(" counter(katexEqnNo) ")";counter-increment:katexEqnNo}.katex .mml-eqn-num:before{content:"(" counter(mmlEqnNo) ")";counter-increment:mmlEqnNo}.katex .mtr-glue{width:50%}.katex .cd-vert-arrow{display:inline-block;position:relative}.katex .cd-label-left{display:inline-block;position:absolute;right:calc(50% + .3em);text-align:left}.katex .cd-label-right{display:inline-block;left:calc(50% + .3em);position:absolute;text-align:right}.katex-display{display:block;margin:1em 0;text-align:center}.katex-display>.katex{display:block;text-align:center;white-space:nowrap}.katex-display>.katex>.katex-html{display:block;position:relative}.katex-display>.katex>.katex-html>.tag{position:absolute;right:0}.katex-display.leqno>.katex>.katex-html>.tag{left:0;right:auto}.katex-display.fleqn>.katex{padding-left:2em;text-align:left}body{counter-reset:katexEqnNo mmlEqnNo}

/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/

.katex-error {
	color: var(--vscode-editorError-foreground);
}

/* From extension ms-toolsai.jupyter */
/* These classnames are inherited from bootstrap, but are present in most notebook renderers */

.alert {
    width: auto;
    padding: 1em;
    margin-top: 1em;
    margin-bottom: 1em;
}
.alert > *:last-child {
    margin-bottom: 0;
}
#preview > .alert:last-child {
    /* Prevent this being set to zero by the default notebook stylesheet */
    padding-bottom: 1em;
}

.alert-success {
    /* Note there is no suitable color available, so we just copy "info" */
    background-color: var(--theme-info-background);
    color: var(--theme-info-foreground);
}
.alert-info {
    background-color: var(--theme-info-background);
    color: var(--theme-info-foreground);
}
.alert-warning {
    background-color: var(--theme-warning-background);
    color: var(--theme-warning-foreground);
}
.alert-danger {
    background-color: var(--theme-error-background);
    color: var(--theme-error-foreground);
}

</style>
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.10.2/dist/katex.min.css" integrity="sha384-yFRtMMDnQtDRO8rLpMIKrtPCD5jdktao2TV19YiZYWMDkUR5GQZR/NOVTdquEx1j" crossorigin="anonymous">
<link href="https://cdn.jsdelivr.net/npm/katex-copytex@latest/dist/katex-copytex.min.css" rel="stylesheet" type="text/css">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/Microsoft/vscode/extensions/markdown-language-features/media/markdown.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/Microsoft/vscode/extensions/markdown-language-features/media/highlight.css">
<style>
            body {
                font-family: -apple-system, BlinkMacSystemFont, 'Segoe WPC', 'Segoe UI', system-ui, 'Ubuntu', 'Droid Sans', sans-serif;
                font-size: 14px;
                line-height: 1.6;
            }
        </style>
        <style>
.task-list-item { list-style-type: none; } .task-list-item-checkbox { margin-left: -20px; vertical-align: middle; }
</style>
        
    </head>
    <body class="vscode-body vscode-light">
        <!-- omit in toc -->
<h1 id="docker-test">Docker Test</h1>
<p><a href="https://github.com/gakimaru-on-connext/testansible">https://github.com/gakimaru-on-connext/testansible</a></p>
<hr>
<ul>
<li><a href="#%E6%A6%82%E8%A6%81">■概要</a></li>
<li><a href="#%E5%8B%95%E4%BD%9C%E8%A6%81%E4%BB%B6">■動作要件</a></li>
<li><a href="#vm-%E6%93%8D%E4%BD%9C%E6%96%B9%E6%B3%95">■VM 操作方法</a></li>
<li><a href="#%E3%82%BB%E3%83%83%E3%83%88%E3%82%A2%E3%83%83%E3%83%97%E5%86%85%E5%AE%B9">■セットアップ内容</a></li>
<li><a href="#%E5%90%84%E3%82%B5%E3%83%BC%E3%83%90%E3%83%BC%E3%81%B8%E3%81%AE%E3%82%A2%E3%82%AF%E3%82%BB%E3%82%B9%E6%96%B9%E6%B3%95">■各サーバーへのアクセス方法</a></li>
<li><a href="#%E8%A7%A3%E8%AA%ACvagrant-%E8%A8%AD%E5%AE%9A">■解説：Vagrant 設定</a></li>
<li><a href="#%E8%A7%A3%E8%AA%AC%E3%83%97%E3%83%AD%E3%83%93%E3%82%B8%E3%83%A7%E3%83%8B%E3%83%B3%E3%82%B0">■解説：プロビジョニング</a></li>
<li><a href="#docker-%E6%93%8D%E4%BD%9C%E6%96%B9%E6%B3%95">■Docker 操作方法</a></li>
<li><a href="#docker-compose-%E6%93%8D%E4%BD%9C%E6%96%B9%E6%B3%95">■Docker Compose 操作方法</a></li>
<li><a href="#%E3%82%B7%E3%82%A7%E3%83%AB%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%97%E3%83%88%E3%81%AB%E3%82%88%E3%82%8B-docker-%E3%83%97%E3%83%AD%E3%83%93%E3%82%B8%E3%83%A7%E3%83%8B%E3%83%B3%E3%82%B0%E3%82%92%E8%A1%8C%E3%81%86%E5%A0%B4%E5%90%88">■シェルスクリプトによる Docker プロビジョニングを行う場合</a></li>
<li><a href="#ansible-%E3%81%AB%E3%82%88%E3%82%8B-docker-%E3%83%97%E3%83%AD%E3%83%93%E3%82%B8%E3%83%A7%E3%83%8B%E3%83%B3%E3%82%B0%E3%82%92%E8%A1%8C%E3%81%86%E5%A0%B4%E5%90%88">■Ansible による Docker プロビジョニングを行う場合</a></li>
<li><a href="#%E3%82%BB%E3%82%AD%E3%83%A5%E3%82%A2%E3%81%AA-docker-%E6%93%8D%E4%BD%9C%E6%96%B9%E6%B3%95">■セキュアな Docker 操作方法</a></li>
<li><a href="#%E3%83%87%E3%82%A3%E3%83%AC%E3%82%AF%E3%83%88%E3%83%AA%E6%A7%8B%E6%88%90">■ディレクトリ構成</a></li>
</ul>
<hr>
<h2 id="概要">■概要</h2>
<ul>
<li>Vagrant を用いた VM 上へのOSセットアップのテスト</li>
<li>OS 以外のパッケージは Docker（Docker Compose） で扱う
<ul>
<li>Docker を単独で利用するよりも、Docker Compose を利用する方がシンプルに構成できる</li>
</ul>
</li>
<li>シェル（スクリプト）または Ansible によるセットアップと比較するためのリポジトリも用意
<ul>
<li>シェルスクリプト：<a href="https://github.com/gakimaru-on-connext/testvagrant">https://github.com/gakimaru-on-connext/testvagrant</a></li>
<li>Ansible：<a href="https://github.com/gakimaru-on-connext/testansible">https://github.com/gakimaru-on-connext/testansible</a></li>
</ul>
</li>
</ul>
<hr>
<h2 id="動作要件">■動作要件</h2>
<ul>
<li>
<p>macOS ※x86系のみ</p>
</li>
<li>
<p>Oracle Virtualbox</p>
<ul>
<li><a href="https://www.oracle.com/jp/virtualization/technologies/vm/downloads/virtualbox-downloads.html">https://www.oracle.com/jp/virtualization/technologies/vm/downloads/virtualbox-downloads.html</a></li>
</ul>
</li>
<li>
<p>Vagrant</p>
<pre><code class="language-shell"><div><span class="hljs-meta">$</span><span class="bash"> brew install vagrant</span>
</div></code></pre>
</li>
<li>
<p>（必須ではない）Docker クライアント用コマンドラインツール</p>
<pre><code class="language-shell"><div><span class="hljs-meta">$</span><span class="bash"> brew install docker</span>
</div></code></pre>
<ul>
<li>注）cask ではないので注意
<ul>
<li>brew install --cask docker としてしまうと、コマンドラインツールではなく、GUI ツールの Docker Engine をインストールしてしまうので注意</li>
</ul>
</li>
<li>macOS 上から Docker を操作したい場合に必要</li>
</ul>
</li>
</ul>
<hr>
<h2 id="vm-操作方法">■VM 操作方法</h2>
<ul>
<li><a href="https://github.com/gakimaru-on-connext/testvagrant#vm-%E6%93%8D%E4%BD%9C%E6%96%B9%E6%B3%95">testvagrant</a> 参照</li>
</ul>
<hr>
<h2 id="セットアップ内容">■セットアップ内容</h2>
<ul>
<li><a href="https://github.com/gakimaru-on-connext/testvagrant#%E3%82%BB%E3%83%83%E3%83%88%E3%82%A2%E3%83%83%E3%83%97%E5%86%85%E5%AE%B9">testvagrant</a> とほぼ同じ</li>
<li>OS は Rocky Linux 9 もしくは Ubuntu 22.04
<ul>
<li>コミットしている状態では Ubuntu 22.04</li>
</ul>
</li>
</ul>
<hr>
<h2 id="各サーバーへのアクセス方法">■各サーバーへのアクセス方法</h2>
<ul>
<li><a href="https://github.com/gakimaru-on-connext/testvagrant#%E5%90%84%E3%82%B5%E3%83%BC%E3%83%90%E3%83%BC%E3%81%B8%E3%81%AE%E3%82%A2%E3%82%AF%E3%82%BB%E3%82%B9%E6%96%B9%E6%B3%95">testvagrant</a> 参照</li>
</ul>
<!-- omit in toc -->
<h3 id="adminer">▼Adminer</h3>
<!-- omit in toc -->
<h4 id="接続">▽接続</h4>
<ul>
<li>Webブラウザから <a href="http://192.168.56.10:8080">http://192.168.56.10:8080</a> にアクセス</li>
<li>各種DBシステムを操作するサーバーシステム</li>
<li>MariaDB に接続する場合：
<ul>
<li>データベース種類：MySQL</li>
<li>サーバ：rdb1</li>
<li>ユーザ名：admin</li>
<li>パスワード：hogehoge</li>
<li>データベース：mysql</li>
</ul>
</li>
<li>PostgreSQL に接続する場合：
<ul>
<li>データベース種類：PostgreSQL</li>
<li>サーバ：rdb2</li>
<li>ユーザ名：admin</li>
<li>パスワード：hogehoge</li>
<li>データベース：postgres</li>
</ul>
</li>
<li>MongoDB に接続する場合：
<ul>
<li>※接続不可</li>
<li>データベース種類：MongoDB</li>
<li>サーバ：ddb</li>
<li>ユーザ名：</li>
<li>パスワード：</li>
<li>データベース：</li>
</ul>
</li>
</ul>
<hr>
<h2 id="解説vagrant-設定">■解説：Vagrant 設定</h2>
<ul>
<li><a href="https://github.com/gakimaru-on-connext/testvagrant#%E8%A7%A3%E8%AA%ACvagrant-%E8%A8%AD%E5%AE%9A">testvagrant</a> 参照</li>
</ul>
<hr>
<h2 id="解説プロビジョニング">■解説：プロビジョニング</h2>
<!-- omit in toc -->
<h3 id="vagrant-設定">▼Vagrant 設定</h3>
<ul>
<li>
<p>Vagrantfile</p>
<ul>
<li>
<p>プラグインインストール設定：Docker Compose 操作</p>
<pre><code class="language-ruby"><div>install_plugin(<span class="hljs-string">&#x27;vagrant-docker-compose&#x27;</span>)
</div></code></pre>
</li>
<li>
<p>OSイメージ設定：ubuntu22.04</p>
<pre><code class="language-ruby"><div>config.vm.box = <span class="hljs-string">&quot;generic/ubuntu2204&quot;</span>
</div></code></pre>
<ul>
<li>&quot;generic/rocky9&quot; では、Vagrant による Docker のインストールに対応していなかったため ubuntu2204 を使用</li>
<li>シェルスクリプトやAnsibleによるセットアップに切り替える場合は、&quot;generic/rocky9&quot; に変更する必要あり</li>
</ul>
</li>
<li>
<p>Docker 関係ファイルの共有設定</p>
<pre><code class="language-ruby"><div>config.vm.synced_folder <span class="hljs-string">&quot;../docker&quot;</span>, <span class="hljs-string">&quot;/vagrant/docker&quot;</span>, <span class="hljs-symbol">type:</span> <span class="hljs-string">&quot;rsync&quot;</span>
</div></code></pre>
</li>
<li>
<p>プロビジョニング設定：Docker のインストール</p>
<pre><code class="language-ruby"><div>config.vm.provision <span class="hljs-symbol">:docker</span>
</div></code></pre>
<ul>
<li>docker プロビジョナーは、本来は Docker の操作を行うプロビジョナーだが、ここでは Docker のインストールにしか使用しないため、設定内容は空で良い</li>
</ul>
</li>
<li>
<p>プロビジョニング設定：Docker Compose の実行</p>
<pre><code class="language-ruby"><div>config.vm.provision <span class="hljs-symbol">:docker_compose</span>, <span class="hljs-symbol">yml:</span> <span class="hljs-string">&quot;/vagrant/docker/docker-compose.yml&quot;</span>, <span class="hljs-symbol">run:</span> <span class="hljs-string">&quot;always&quot;</span>
</div></code></pre>
<ul>
<li>run: &quot;always&quot; を指定し、2回目以降の Vagrant の起動でも、毎回 Docker Compose が実行されるようにする</li>
</ul>
</li>
</ul>
</li>
</ul>
<!-- omit in toc -->
<h3 id="docker-compose-設定">▼Docker Compose 設定</h3>
<ul>
<li>docker/docker-compose.yml に各コンテナの設定を記述</li>
<li>非常にシンプルな構成としており、コンテナビルド用の Dockerfile を使用せず（コンテナをビルドせず）、公開されているコンテナイメージをそのまま利用する</li>
</ul>
<!-- omit in toc -->
<h4 id="永続化">▽永続化</h4>
<ul>
<li>
<p>volumes 設定を使用し、DBデータなどはコンテナホスト側（macOS から見たらゲストの Vagrant VM）のディレクトリをマウントするように設定</p>
<ul>
<li>これにより、コンテナを破棄してもデータが消えない</li>
<li>Vagrant VM を破棄するとデータが消える</li>
</ul>
</li>
<li>
<p>コンテナホスト側（Vagrant VM 側）のディレクトリ構成</p>
<pre><code class="language-shell"><div>/opt/
├── cache/          # cache コンテナ用
│   └── redis/      # Redis 用
│       └── data/
├── ddb/            # ddb コンテナ用
│   └── mongodb/    # MongoDB 用
│       └── data/
├── rdb1/           # rdb1 コンテナ用
│   └── mariadb/    # MariaDB 用
│       └── data/
├── rdb2/           # rdb2 コンテナ用
│   └── postgresql/ # PostgreSQL 用
│       └── data/
└── web/            # web コンテナ用 
    └── nginx/      # nginx 用
        └── (なし)
</div></code></pre>
</li>
</ul>
<!-- omit in toc -->
<h4 id="ログ">▽ログ</h4>
<ul>
<li>
<p>volumes 設定を使用し、ログはコンテナホスト側（macOS から見たらゲストの Vagrant VM）のディレクトリをマウントするように設定</p>
</li>
<li>
<p>コンテナホスト側（Vagrant VM 側）のディレクトリ構成</p>
<pre><code class="language-shell"><div>/opt/
├── cache/          # cache コンテナ用
│   └── redis/      # Redis 用
│       └── (なし)
├── ddb/            # ddb コンテナ用
│   └── mongodb/    # MongoDB 用
│       └── log/
├── rdb1/           # rdb1 コンテナ用
│   └── mariadb/    # MariaDB 用
│       └── log/
├── rdb2/           # rdb2 コンテナ用
│   └── postgresql/ # PostgreSQL 用
│       └── log/
└── web/            # web コンテナ用 
    └── nginx/      # nginx 用
        └── log/
</div></code></pre>
<ul>
<li>ただし、所定の場所にログが出力されていないのか、nginx 以外の記録を確認できていない</li>
</ul>
</li>
</ul>
<hr>
<h2 id="docker-操作方法">■Docker 操作方法</h2>
<!-- omit in toc -->
<h3 id="docker-コマンドの実行方法１vm-にログインして-docker-コマンドを実行">▼docker コマンドの実行方法１：VM にログインして docker コマンドを実行</h3>
<!-- omit in toc -->
<h4 id="準備">▽準備</h4>
<ul>
<li>不要</li>
</ul>
<!-- omit in toc -->
<h4 id="コマンド実行">▽コマンド実行</h4>
<ul>
<li>
<p>macOS</p>
<pre><code class="language-shell"><div><span class="hljs-meta">#</span><span class="bash"> VM にログイン</span>
<span class="hljs-meta">$</span><span class="bash"> <span class="hljs-built_in">cd</span> vagrant</span>
<span class="hljs-meta">$</span><span class="bash"> vagrant ssh</span>
</div></code></pre>
</li>
<li>
<p>VM</p>
<pre><code class="language-shell"><div><span class="hljs-meta">#</span><span class="bash"> docker コマンドを実行（何かしらのサブコマンドを指定すると、Docker サーバーにアクセスする）</span>
<span class="hljs-meta">$</span><span class="bash"> docker version</span>
Client: Docker Engine - Community
Version:           20.10.17
API version:       1.41
...
OS/Arch:          linux/amd64
...

Server: Docker Engine - Community
Engine:
  Version:          20.10.17
  API version:      1.41 (minimum version 1.12)
  ...
  OS/Arch:          linux/amd64
  ...
</div></code></pre>
</li>
</ul>
<!-- omit in toc -->
<h3 id="docker-コマンドの実行方法2macos-からdocker-コマンドを実行">▼docker コマンドの実行方法2：macOS から　docker コマンドを実行</h3>
<!-- omit in toc -->
<h4 id="準備-1">▽準備</h4>
<ul>
<li>
<p>macOS</p>
<pre><code class="language-shell"><div><span class="hljs-meta">#</span><span class="bash"> VM にログイン</span>
<span class="hljs-meta">$</span><span class="bash"> <span class="hljs-built_in">cd</span> vagrant</span>
<span class="hljs-meta">$</span><span class="bash"> vagrant ssh</span>
</div></code></pre>
</li>
<li>
<p>VM</p>
<pre><code class="language-shell"><div><span class="hljs-meta">#</span><span class="bash"> /usr/lib/systemd/system/docker.service をテキストエディタで編集</span>
<span class="hljs-meta">$</span><span class="bash"> <span class="hljs-built_in">cd</span> /usr/lib/systemd/system</span>
<span class="hljs-meta">$</span><span class="bash"> sudo vi docker.service  または  $ sudo nano docker.service</span>
<span class="hljs-meta">#</span><span class="bash"> この行を変更</span>
ExecStart=/usr/bin/dockerd -H fd:// --containerd=/run/containerd/containerd.sock
<span class="hljs-meta">#</span><span class="bash"> ↓ コマンドラインオプションに「--tls=<span class="hljs-literal">false</span> -H tcp://0.0.0.0:2375」を追加</span>
ExecStart=/usr/bin/dockerd -H fd:// --tls=false -H tcp://0.0.0.0:2375 --containerd=/run/containerd/containerd.sock
<span class="hljs-meta">#</span><span class="bash"> サービス設定を再読み込み</span>
<span class="hljs-meta">$</span><span class="bash"> sudo systemctl daemon-reload</span>
<span class="hljs-meta">#</span><span class="bash"> Docker サービスを再起動</span>
<span class="hljs-meta">$</span><span class="bash"> sudo systemctl restart docker</span>
</div></code></pre>
</li>
</ul>
<!-- omit in toc -->
<h4 id="コマンド実行-1">▽コマンド実行</h4>
<ul>
<li>
<p>macOS</p>
<pre><code class="language-shell"><div><span class="hljs-meta">#</span><span class="bash"> docker コマンドの接続先を環境変数で設定</span>
<span class="hljs-meta">$</span><span class="bash"> <span class="hljs-built_in">export</span> DOCKER_HOST=tcp://192.168.56.10:2375</span>
<span class="hljs-meta">$</span><span class="bash"> <span class="hljs-built_in">export</span> DOCKER_MACHINE_NAME=testdocker</span>
<span class="hljs-meta">$</span><span class="bash"> <span class="hljs-built_in">unset</span> DOCKER_TLS_VERIFY</span>
<span class="hljs-meta">$</span><span class="bash"> <span class="hljs-built_in">unset</span> DOCKER_CERT_PATH</span>
<span class="hljs-meta">#</span><span class="bash"> docker コマンドを実行（何かしらのサブコマンドを指定すると、Docker サーバーにアクセスする）</span>
<span class="hljs-meta">$</span><span class="bash"> docker version</span>
Client: Docker Engine - Community
Version:           20.10.17
API version:       1.41
...
OS/Arch:           darwin/amd64
...

Server: Docker Engine - Community
Engine:
  Version:          20.10.17
  API version:      1.41 (minimum version 1.12)
  ...
  OS/Arch:          linux/amd64
  ...
</div></code></pre>
<ul>
<li>macOS 上から頻繁に docker コマンドを使用する場合は、これらの環境変数を ~/.zshrc に設定しておくなと便利</li>
</ul>
</li>
</ul>
<!-- omit in toc -->
<h3 id="docker-コンテナにログイン">▼docker コンテナにログイン</h3>
<ul>
<li>
<p>docker コマンドの exec サブコマンドを、-it オプションを付けて bash を実行することでリモートログインを実現する</p>
<pre><code class="language-shell"><div><span class="hljs-meta">$</span><span class="bash"> docker <span class="hljs-built_in">exec</span> -it (コンテナ名) bash</span>
</div></code></pre>
<ul>
<li>-i ... interactive: 標準入力（キー操作）を受け付ける</li>
<li>-t ... tty: 疑似 TTY を割り当て（端末操作を可能にする）</li>
</ul>
</li>
</ul>
<!-- omit in toc -->
<h4 id="rdb1-mariadb-コンテナにログイン">▽rdb1 (MariaDB) コンテナにログイン</h4>
<pre><code class="language-shell"><div><span class="hljs-meta">$</span><span class="bash"> docker <span class="hljs-built_in">exec</span> -it rdb1 bash</span>
</div></code></pre>
<!-- omit in toc -->
<h4 id="rdb2-postgresql-コンテナにログイン">▽rdb2 (PostgreSQL) コンテナにログイン</h4>
<pre><code class="language-shell"><div><span class="hljs-meta">$</span><span class="bash"> docker <span class="hljs-built_in">exec</span> -it rdb2 bash</span>
</div></code></pre>
<!-- omit in toc -->
<h4 id="ddb-mongodb-コンテナにログイン">▽ddb (MongoDB) コンテナにログイン</h4>
<pre><code class="language-shell"><div><span class="hljs-meta">$</span><span class="bash"> docker <span class="hljs-built_in">exec</span> -it ddb bash</span>
</div></code></pre>
<!-- omit in toc -->
<h4 id="cache-redis-コンテナにログイン">▽cache (Redis) コンテナにログイン</h4>
<pre><code class="language-shell"><div><span class="hljs-meta">$</span><span class="bash"> docker <span class="hljs-built_in">exec</span> -it cache bash</span>
</div></code></pre>
<!-- omit in toc -->
<h4 id="web-nginx-コンテナにログイン">▽web (Nginx) コンテナにログイン</h4>
<pre><code class="language-shell"><div><span class="hljs-meta">$</span><span class="bash"> docker <span class="hljs-built_in">exec</span> -it web bash</span>
</div></code></pre>
<!-- omit in toc -->
<h3 id="docker-コンテナの確認">▼docker コンテナの確認</h3>
<!-- omit in toc -->
<h4 id="稼働中のコンテナのリストアップ">▽稼働中のコンテナのリストアップ</h4>
<pre><code class="language-shell"><div><span class="hljs-meta">$</span><span class="bash"> docker ps</span>
CONTAINER ID   IMAGE                   COMMAND                  CREATED       STATUS         PORTS                                      NAMES
285e17f606ab   nginx:latest            &quot;/docker-entrypoint.…&quot;   3 hours ago   Up 2 minutes   0.0.0.0:80-&gt;80/tcp, 0.0.0.0:443-&gt;443/tcp   web
9a888f6d8ce9   adminer:latest          &quot;entrypoint.sh docke…&quot;   3 hours ago   Up 3 minutes   0.0.0.0:8080-&gt;8080/tcp                     adminer
02c7153223f9   mariadb/server:latest   &quot;docker-entrypoint.s…&quot;   3 hours ago   Up 2 minutes   0.0.0.0:3306-&gt;3306/tcp                     rdb1
7c94e5e9a5a1   redis:latest            &quot;docker-entrypoint.s…&quot;   3 hours ago   Up 2 minutes   0.0.0.0:6379-&gt;6379/tcp                     cache
ec473add1fe7   postgres:latest         &quot;docker-entrypoint.s…&quot;   3 hours ago   Up 2 minutes   0.0.0.0:5432-&gt;5432/tcp                     rdb2
e70b1563b997   mongo:latest            &quot;docker-entrypoint.s…&quot;   3 hours ago   Up 2 minutes   0.0.0.0:27017-&gt;27017/tcp                   ddb
</div></code></pre>
<!-- omit in toc -->
<h3 id="docker-コンテナの停止kill">▼docker コンテナの停止（kill）</h3>
<pre><code class="language-shell"><div><span class="hljs-meta">$</span><span class="bash"> docker <span class="hljs-built_in">kill</span> (コンテナ名|コンテナID)</span>
</div></code></pre>
<!-- omit in toc -->
<h4 id="停止しているコンテナのリストアップ">▽停止しているコンテナのリストアップ</h4>
<pre><code class="language-shell"><div><span class="hljs-meta">$</span><span class="bash"> docker ps -a</span>
CONTAINER ID   IMAGE                   COMMAND                  CREATED       STATUS                            PORTS                      NAMES
285e17f606ab   nginx:latest            &quot;/docker-entrypoint.…&quot;   3 hours ago   Exited (137) 2 minutes ago                                   web
9a888f6d8ce9   adminer:latest          &quot;entrypoint.sh docke…&quot;   3 hours ago   Exited (137) About a minute ago                              adminer
02c7153223f9   mariadb/server:latest   &quot;docker-entrypoint.s…&quot;   3 hours ago   Up 5 minutes                      0.0.0.0:3306-&gt;3306/tcp     rdb1
7c94e5e9a5a1   redis:latest            &quot;docker-entrypoint.s…&quot;   3 hours ago   Up 5 minutes                      0.0.0.0:6379-&gt;6379/tcp     cache
ec473add1fe7   postgres:latest         &quot;docker-entrypoint.s…&quot;   3 hours ago   Up 5 minutes                      0.0.0.0:5432-&gt;5432/tcp     rdb2
e70b1563b997   mongo:latest            &quot;docker-entrypoint.s…&quot;   3 hours ago   Up 5 minutes                      0.0.0.0:27017-&gt;27017/tcp   ddb
</div></code></pre>
<ul>
<li>コンテナのプログラム終了または docker kill によって終了したコンテナは、STATUS が Exited として表示される</li>
<li>-a オプションは稼働中のコンテナと終了したコンテナを全て出力する</li>
</ul>
<!-- omit in toc -->
<h3 id="docker-コンテナの破棄">▼docker コンテナの破棄</h3>
<pre><code class="language-shell"><div><span class="hljs-meta">$</span><span class="bash"> docker rm (コンテナ名|コンテナID)</span>
</div></code></pre>
<ul>
<li>停止状態のコンテナを破棄できる</li>
</ul>
<!-- omit in toc -->
<h3 id="docker-コンテナイメージのリストアップ">▼docker コンテナイメージのリストアップ</h3>
<pre><code class="language-shell"><div><span class="hljs-meta">$</span><span class="bash"> docker image ls</span>
REPOSITORY       TAG       IMAGE ID       CREATED         SIZE
mongo            latest    d34d21a9eb5b   4 days ago      693MB
postgres         latest    b37c2a6c1506   13 days ago     376MB
redis            latest    dc7b40a0b05d   13 days ago     117MB
nginx            latest    2b7d6430f78d   2 weeks ago     142MB
adminer          latest    75cd6c93316c   3 weeks ago     90.7MB
mariadb/server   latest    763362775627   16 months ago   362MB
</div></code></pre>
<!-- omit in toc -->
<h3 id="docker-コンテナイメージの破棄">▼docker コンテナイメージの破棄</h3>
<pre><code class="language-shell"><div><span class="hljs-meta">$</span><span class="bash"> docker image rm (コンテナイメージID)</span>
</div></code></pre>
<ul>
<li>未使用状態のコンテナイメージを破棄できる</li>
</ul>
<hr>
<h2 id="docker-compose-操作方法">■Docker Compose 操作方法</h2>
<!-- omit in toc -->
<h3 id="docker-compose-コマンドの実行方法vm-にログインして-docker-compose-コマンドを実行">▼docker-compose コマンドの実行方法：VM にログインして docker-compose コマンドを実行</h3>
<ul>
<li>
<p>macOS</p>
<pre><code class="language-shell"><div><span class="hljs-meta">#</span><span class="bash"> VM にログイン</span>
<span class="hljs-meta">$</span><span class="bash"> <span class="hljs-built_in">cd</span> vagrant</span>
<span class="hljs-meta">$</span><span class="bash"> vagrant ssh</span>
</div></code></pre>
</li>
<li>
<p>VM</p>
<pre><code class="language-shell"><div><span class="hljs-meta">#</span><span class="bash"> docker-compose.yml が存在するディレクトリに移動</span>
cd /vagrant/docker/
<span class="hljs-meta">#</span><span class="bash"> docker-compose コマンドを実行（何かしらのサブコマンドを指定すると、Docker サーバーにアクセスする）</span>
<span class="hljs-meta">$</span><span class="bash"> docker-compose ps</span>
 Name                Command               State               Ports
--------------------------------------------------------------------------------
adminer   entrypoint.sh docker-php-e ...   Up      0.0.0.0:8080-&gt;8080/tcp
cache     docker-entrypoint.sh redis ...   Up      0.0.0.0:6379-&gt;6379/tcp
ddb       docker-entrypoint.sh mongod      Up      0.0.0.0:27017-&gt;27017/tcp
rdb1      docker-entrypoint.sh mysqld      Up      0.0.0.0:3306-&gt;3306/tcp
rdb2      docker-entrypoint.sh postgres    Up      0.0.0.0:5432-&gt;5432/tcp
web       /docker-entrypoint.sh ngin ...   Up      0.0.0.0:443-&gt;443/tcp,
                                                   0.0.0.0:80-&gt;80/tcp
</div></code></pre>
</li>
</ul>
<!-- omit in toc -->
<h3 id="サービスdockerコンテナの稼働状態を確認">▼サービス（docker　コンテナ）の稼働状態を確認</h3>
<pre><code class="language-shell"><div><span class="hljs-meta">$</span><span class="bash"> docker-compose ps</span>
  Name                Command               State               Ports
--------------------------------------------------------------------------------
adminer   entrypoint.sh docker-php-e ...   Up      0.0.0.0:8080-&gt;8080/tcp
cache     docker-entrypoint.sh redis ...   Up      0.0.0.0:6379-&gt;6379/tcp
ddb       docker-entrypoint.sh mongod      Up      0.0.0.0:27017-&gt;27017/tcp
rdb1      docker-entrypoint.sh mysqld      Up      0.0.0.0:3306-&gt;3306/tcp
rdb2      docker-entrypoint.sh postgres    Up      0.0.0.0:5432-&gt;5432/tcp
web       /docker-entrypoint.sh ngin ...   Up      0.0.0.0:443-&gt;443/tcp,
                                                    0.0.0.0:80-&gt;80/tcp
</div></code></pre>
<!-- omit in toc -->
<h3 id="サービスdockerコンテナをまとめて起動">▼サービス（docker　コンテナ）をまとめて起動</h3>
<ul>
<li>初回の起動は、イメージのダウンロードやイメージのビルドが行われるため時間がかかる</li>
</ul>
<!-- omit in toc -->
<h4 id="非デーモンモード">▽非デーモンモード</h4>
<pre><code class="language-shell"><div><span class="hljs-meta">$</span><span class="bash"> docker-compose up</span>
Creating network &quot;docker_default&quot; with the default driver
Creating cache ... done
Creating rdb1  ... done
Creating rdb2  ... done
Creating ddb   ... done
Creating adminer ... done
Creating web     ... done
Attaching to cache, rdb2, ddb, rdb1, adminer, web
...
<span class="hljs-meta">#</span><span class="bash"> Ctrl+C を入力</span>
Gracefully stopping... (press Ctrl+C again to force)
Stopping adminer ... done
Stopping web     ... done
Stopping ddb     ... done
Stopping rdb2    ... done
Stopping rdb1    ... done
Stopping cache   ... done
</div></code></pre>
<ul>
<li>この方法だと、ログが標準出力に流れる</li>
<li>制御が返らないため、Ctrl+C で停止しなければならない</li>
<li>Ctrl+C で停止すると、全てのコンテナが停止する</li>
</ul>
<!-- omit in toc -->
<h4 id="デーモンモード">▽デーモンモード</h4>
<pre><code class="language-shell"><div><span class="hljs-meta">$</span><span class="bash"> docker-compose up -d</span>
Starting rdb1  ... done
Starting ddb   ... done
Starting cache ... done
Starting rdb2  ... done
Starting adminer ... done
Starting web     ... done
</div></code></pre>
<ul>
<li>この方法だと、ログが標準出力に流れない</li>
<li>制御がすぐに返ってきて、バックエンドでコンテが動作する</li>
<li>停止したい時は docker-compose down を使用する必要がある</li>
</ul>
<!-- omit in toc -->
<h3 id="一部のサービスdockerコンテナを起動">▼一部のサービス（docker　コンテナ）を起動</h3>
<!-- omit in toc -->
<h4 id="非デーモンモード-1">▽非デーモンモード</h4>
<pre><code class="language-shell"><div><span class="hljs-meta">$</span><span class="bash"> docker-compose up (サービス名)</span>
</div></code></pre>
<!-- omit in toc -->
<h4 id="デーモンモード-1">▽デーモンモード</h4>
<pre><code class="language-shell"><div><span class="hljs-meta">$</span><span class="bash"> docker-compose up -d (サービス名)</span>
</div></code></pre>
<!-- omit in toc -->
<h3 id="サービスdockerコンテナをまとめて停止">▼サービス（docker　コンテナ）をまとめて停止</h3>
<pre><code class="language-shell"><div><span class="hljs-meta">$</span><span class="bash"> docker-compose down</span>
Stopping web     ... done
Stopping adminer ... done
Stopping ddb     ... done
Stopping cache   ... done
Stopping rdb1    ... done
Stopping rdb2    ... done
Removing web     ... done
Removing adminer ... done
Removing ddb     ... done
Removing cache   ... done
Removing rdb1    ... done
Removing rdb2    ... done
Removing network docker_default
</div></code></pre>
<!-- omit in toc -->
<h3 id="一部のサービスdockerコンテナを停止">▼一部のサービス（docker　コンテナ）を停止</h3>
<pre><code class="language-shell"><div><span class="hljs-meta">$</span><span class="bash"> docker-compose down (サービス名)</span>
</div></code></pre>
<!-- omit in toc -->
<h3 id="サービスdockerコンテナをまとめて強制終了">▼サービス（docker　コンテナ）をまとめて強制終了</h3>
<pre><code class="language-shell"><div><span class="hljs-meta">$</span><span class="bash"> docker-compose <span class="hljs-built_in">kill</span></span>
</div></code></pre>
<!-- omit in toc -->
<h3 id="一部のサービスdockerコンテナを強制終了">▼一部のサービス（docker　コンテナ）を強制終了</h3>
<pre><code class="language-shell"><div><span class="hljs-meta">$</span><span class="bash"> docker-compose <span class="hljs-built_in">kill</span> (サービス名)</span>
</div></code></pre>
<hr>
<h2 id="シェルスクリプトによる-docker-プロビジョニングを行う場合">■シェルスクリプトによる Docker プロビジョニングを行う場合</h2>
<ul>
<li>Docker 自体のインストールとセットアップを Vagrant の docker プロビジョナーに任せず、独自に実施する方法</li>
</ul>
<!-- omit in toc -->
<h3 id="vagrant-プロビジョニング設定">▼Vagrant プロビジョニング設定</h3>
<ul>
<li><a href="https://github.com/gakimaru-on-connext/testvagrant#%E8%A7%A3%E8%AA%AC%E3%83%97%E3%83%AD%E3%83%93%E3%82%B8%E3%83%A7%E3%83%8B%E3%83%B3%E3%82%B0">testvagrant</a> 参照</li>
</ul>
<hr>
<h2 id="ansible-による-docker-プロビジョニングを行う場合">■Ansible による Docker プロビジョニングを行う場合</h2>
<ul>
<li>Docker 自体のインストールとセットアップを Vagrant の docker プロビジョナーに任せず、独自に実施する方法</li>
</ul>
<!-- omit in toc -->
<h3 id="vagrant-プロビジョニング設定-1">▼Vagrant プロビジョニング設定</h3>
<ul>
<li><a href="https://github.com/gakimaru-on-connext/testansible#%E8%A7%A3%E8%AA%AC%E3%83%97%E3%83%AD%E3%83%93%E3%82%B8%E3%83%A7%E3%83%8B%E3%83%B3%E3%82%B0">testansible</a> 参照</li>
</ul>
<!-- omit in toc -->
<h3 id="ansible-プロビジョニング準備">▼Ansible プロビジョニング準備</h3>
<ul>
<li><a href="https://github.com/gakimaru-on-connext/testansible#ansible-%E3%83%97%E3%83%AD%E3%83%93%E3%82%B8%E3%83%A7%E3%83%8B%E3%83%B3%E3%82%B0%E6%BA%96%E5%82%99">testansible</a> 参照</li>
</ul>
<!-- omit in toc -->
<h3 id="ansible-プロビジョニング実行">▼Ansible プロビジョニング実行</h3>
<ul>
<li><a href="https://github.com/gakimaru-on-connext/testansible#ansible-%E3%83%97%E3%83%AD%E3%83%93%E3%82%B8%E3%83%A7%E3%83%8B%E3%83%B3%E3%82%B0%E5%AE%9F%E8%A1%8C">testansible</a> 参照</li>
</ul>
<hr>
<h2 id="セキュアな-docker-操作方法">■セキュアな Docker 操作方法</h2>
<ul>
<li>Docker コマンドによる Docker サーバー操作は SSL 通信に対応している
<ul>
<li>例えば、docker-machine コマンドで Docker コンテナホストをセットアップした場合は SSL通信設定が行われる</li>
</ul>
</li>
<li>前述のシェルスクリプトまたは Ansible による Docker プロビジョニングを行った場合は、Docker サーバーにSSL通信が設定されるように構成している</li>
</ul>
<!-- omit in toc -->
<h3 id="セキュアな-docker-コマンドの実行方法１vm-にログインして-docker-コマンドを実行">▼セキュアな docker コマンドの実行方法１：VM にログインして docker コマンドを実行</h3>
<ul>
<li><a href="#docker-%E6%93%8D%E4%BD%9C%E6%96%B9%E6%B3%95">■Docker 操作方法</a> と同じ</li>
</ul>
<!-- omit in toc -->
<h3 id="セキュアな-docker-コマンドの実行方法2macos-からdocker-コマンドを実行">▼セキュアな docker コマンドの実行方法2：macOS から　docker コマンドを実行</h3>
<!-- omit in toc -->
<h4 id="準備-2">▽準備</h4>
<ul>
<li>
<p>macOS</p>
<pre><code class="language-shell"><div><span class="hljs-meta">#</span><span class="bash"> クライアント用の証明書ファイルをコピー</span>
<span class="hljs-meta">$</span><span class="bash"> CEERT_DST=<span class="hljs-variable">$HOME</span>/.docker/testdocker</span>
<span class="hljs-meta">$</span><span class="bash"> mkdir -p <span class="hljs-variable">$CEERT_DST</span></span>
<span class="hljs-meta">$</span><span class="bash"> <span class="hljs-built_in">cd</span> docker/ca</span>
<span class="hljs-meta">$</span><span class="bash"> cp ca.pem <span class="hljs-variable">$CEERT_DST</span>/.</span>
<span class="hljs-meta">$</span><span class="bash"> cp client-cert.pem <span class="hljs-variable">$CEERT_DST</span>/cert.pem</span>
<span class="hljs-meta">$</span><span class="bash"> cp client-key.pem <span class="hljs-variable">$CEERT_DST</span>/key.pem</span>
</div></code></pre>
</li>
</ul>
<!-- omit in toc -->
<h4 id="コマンド実行-2">▽コマンド実行</h4>
<ul>
<li>
<p>macOS</p>
<pre><code class="language-shell"><div><span class="hljs-meta">#</span><span class="bash"> docker コマンドの接続先を環境変数で設定</span>
<span class="hljs-meta">$</span><span class="bash"> <span class="hljs-built_in">export</span> DOCKER_HOST=<span class="hljs-string">&quot;tcp://192.168.56.10:2376&quot;</span></span>
<span class="hljs-meta">$</span><span class="bash"> <span class="hljs-built_in">export</span> DOCKER_MACHINE_NAME=<span class="hljs-string">&quot;testdocker&quot;</span></span>
<span class="hljs-meta">$</span><span class="bash"> <span class="hljs-built_in">export</span> DOCKER_TLS_VERIFY=<span class="hljs-string">&quot;1&quot;</span></span>
<span class="hljs-meta">$</span><span class="bash"> <span class="hljs-built_in">export</span> DOCKER_CERT_PATH=<span class="hljs-string">&quot;<span class="hljs-variable">$HOME</span>/.docker/testdocker&quot;</span></span>
<span class="hljs-meta">#</span><span class="bash"> docker コマンドを実行（何かしらのサブコマンドを指定すると、Docker サーバーにアクセスする）</span>
<span class="hljs-meta">$</span><span class="bash"> docker version</span>
Client: Docker Engine - Community
Version:           20.10.17
API version:       1.41
...
OS/Arch:           darwin/amd64
...

Server: Docker Engine - Community
Engine:
  Version:          20.10.17
  API version:      1.41 (minimum version 1.12)
  ...
  OS/Arch:          linux/amd64
  ...
</div></code></pre>
<ul>
<li>macOS 上から頻繁に docker コマンドを使用する場合は、これらの環境変数を ~/.zshrc に設定しておくなと便利</li>
</ul>
</li>
</ul>
<hr>
<h2 id="ディレクトリ構成">■ディレクトリ構成</h2>
<pre><code class="language-shell"><div>testdocker/
├── README.html
├── README.md
├── docker/                      # Docker 用
│   ├── web/                     # Docker web コンテナ用
│   │   └── nginx/               # Docker web コンテナ：nginx 用
│   │       ├── conf.d/
│   │       │   └── default.conf
│   │       └── html/ 
│   │           ├── 50x.html
│   │           └── index.html
│   ├── docker-compose.yml       # Docker Compose コンテナ群設定ファイル
│   └── ca/                      # Docker サーバーSSL通信証明書用（未使用）
├── vagrant/                     # vagrant 用
│   ├── share/                   # vagrant 共有ディレクトリ（未使用）
│   └── Vagrantfile              # vagrant VM 設定
├── setup/                       # セットアップシェルスクリプト用（使用しない）
└── ansible/                     # Ansible 用（使用しない）
</div></code></pre>
<!-- omit in toc -->
<h3 id="シェルスクリプトによる-os--docker-セットアップを行う場合">▼シェルスクリプトによる OS ＆ Docker セットアップを行う場合</h3>
<pre><code class="language-shell"><div>testdocker/
├── README.html
├── README.md
├── docker/                             # Docker 用
│   ├── ca/                             # Docker サーバーSSL通信証明書用
│   │   ├── ca-key.pem
│   │   ├── ca.pem                      # サーバー側／クライアント側証明書用
│   │   ├── client-cert.pem             # クライアント側証明書用
│   │   ├── client-extfile.cnf
│   │   ├── client-key.pem              # クライアント側証明書用
│   │   ├── client.csr
│   │   ├── how2make_cert.txt           # 証明書作成手順
│   │   ├── server-cert.pem             # サーバー側証明書用
│   │   ├── server-extfile.cnf
│   │   ├── server-key.pem              # サーバー側証明書用
│   │   └── server.csr
│   ├── web/                            # Docker web コンテナ用
│   │   └── nginx/                      # Docker web コンテナ：nginx 用
│   │       ├── conf.d/
│   │       │   └── default.conf
│   │       └── html/ 
│   │           ├── 50x.html
│   │           └── index.html
│   └── docker-compose.yml              # Docker Compose コンテナ群設定ファイル
├── setup/                              # セットアップシェルスクリプト／設定用
│   ├── setup_os.sh                     # 
│   └── setup_package_docker.sh         # 
├── vagrant/                            # vagrant 用
│   ├── share/                          # vagrant 共有ディレクトリ（未使用）
│   └── Vagrantfile                     # vagrant VM 設定
└── ansible/                            # Ansible 用（使用しない）
</div></code></pre>
<!-- omit in toc -->
<h3 id="ansible-による-os--docker-セットアップを行う場合に使用するファイル">▼Ansible による OS ＆ Docker セットアップを行う場合に使用するファイル</h3>
<pre><code class="language-shell"><div>testdocker/
├── README.html
├── README.md
├── ansible/                                      # Ansible 用
│   ├── playbook/                                 # Ansible プレイブック用
│   │   ├── inventories/                          # Ansible インベントリ用
│   │   │   ├── templates/                        # Ansible インベントリテンプレート用
│   │   │   │   ├── common/                       # Ansible インベントリ共通テンプレート
│   │   │   │   │   ├── __footer.yml
│   │   │   │   │   ├── __groups.yml
│   │   │   │   │   ├── __header.yml
│   │   │   │   │   └── __vars.yml
│   │   │   │   └── _(環境名)_hosts.yml            # Ansible インベントリ環境別テンプレート
│   │   │   └── (環境名)_hosts.yml                 # Ansible インベントリ（環境別）
│   │   ├── roles/                                # Ansible ロール用
│   │   │   ├── info_inventory/                   # Ansible ロール：インベントリ情報出力
│   │   │   │   └── tasks/
│   │   │   │       └── main.yml
│   │   │   ├── os_base_setup/                    # Ansible ロール：OS 基本セットアップ
│   │   │   │   ├── tasks/
│   │   │   │   │   └── main.yml
│   │   │   │   └── vars/
│   │   │   │       └── vars.yml
│   │   │   ├── os_user_setup/                    # Ansible ロール：OS ユーザーセットアップ
│   │   │   │   ├── authorized_keys
│   │   │   │   │   ├── add/
│   │   │   │   │   │   └── *.pub
│   │   │   │   │   └── del/
│   │   │   │   │       └── *.pub
│   │   │   │   ├── tasks/
│   │   │   │   │   └── main.yml
│   │   │   │   └── templates/
│   │   │   │       ├─ .bashrc.ext.j2
│   │   │   │       └── sudoers-user.j2
│   │   │   ├── package_docker_client_setup/      # Ansible ロール：パッケージ：Docker クライアントセットアップ
│   │   │   │   ├── tasks/
│   │   │   │   │   └── main.yml
│   │   │   │   └── templates/
│   │   │   │       └─ .bashrc.docker.j2
│   │   │   ├── package_docker_common_setup/      # Ansible ロール：パッケージ：Docker サーバー／クライアント共通セットアップ
│   │   │   │   ├── files/
│   │   │   │   │   ├── ca.pem
│   │   │   │   │   ├── client-cert.pem
│   │   │   │   │   ├── client-key.pem
│   │   │   │   │   ├── readme.txt
│   │   │   │   │   ├── server-cert.pem
│   │   │   │   │   └── server-key.pem
│   │   │   │   ├── tasks/
│   │   │   │   │   └── main.yml
│   │   │   │   └── vars/
│   │   │   │       └── vars.yml
│   │   │   └── package_docker_server_setup/      # Ansible ロール：パッケージ：Docker サーバーセットアップ
│   │   │       ├── handlers/
│   │   │       │   └── main.yml
│   │   │       ├── tasks/
│   │   │       │   ├── main.yml
│   │   │       │   └── restart_docker_server.yml
│   │   │       └── vars/
│   │   │           └── vars.yml
│   │   ├── vars/                                 # Ansible 共通変数用
│   │   │   └── common_vars.yml
│   │   ├── .ansible-lint                         # Ansible-lint 設定
│   │   ├── ansible.cfg                           # Ansible 基本設定
│   │   ├── playbook_info_print.yml               # Ansible プレイブック：情報表示
│   │   ├── playbook_os_setup.yml                 # Ansible プレイブック：OSセットアップ
│   │   ├── playbook_package_docker_setup.yml     # Ansible プレイブック：Docker セットアップ
│   │   └── site_all_setup.yml                    # Ansible サイト：全セットアップ
│   ├── _env.rc
│   ├── _provision.rc
│   ├── ansible_lint.sh                           # Ansible-lint 実行スクリプト
│   ├── ansible_lint_result.txt                   # Ansible-lint 実行結果
│   ├── inventories_setup.sh                      # Ansible インベントリセットアップスクリプト
│   ├── inventories_verify.sh                     # Ansible インベントリ検証スクリプト
│   └── provision_(環境名).sh                      # Ansible 実行スクリプト
├── docker/                                       # Docker 用
│   ├── ca/                                       # Docker サーバーSSL通信証明書用
│   │   ├── ca-key.pem
│   │   ├── ca.pem                                # サーバー側／クライアント側証明書用
│   │   ├── client-cert.pem                       # クライアント側証明書用
│   │   ├── client-extfile.cnf
│   │   ├── client-key.pem                        # クライアント側証明書用
│   │   ├── client.csr
│   │   ├── how2make_cert.txt                     # 証明書作成手順
│   │   ├── server-cert.pem                       # サーバー側証明書用
│   │   ├── server-extfile.cnf
│   │   ├── server-key.pem                        # サーバー側証明書用
│   │   └── server.csr
│   ├── web/                                      # Docker web コンテナ用
│   │   └── nginx/                                # Docker web コンテナ：nginx 用
│   │       ├── conf.d/
│   │       │   └── default.conf
│   │       └── html/ 
│   │           ├── 50x.html
│   │           └── index.html
│   └── docker-compose.yml                        # Docker Compose コンテナ群設定ファイル
├── vagrant/                                      # vagrant 用
│   ├── share/                                    # vagrant 共有ディレクトリ（未使用）
│   └── Vagrantfile                               # vagrant VM 設定
└── setup/                                        # セットアップシェルスクリプト用（使用しない）
</div></code></pre>
<hr>
<p>以上</p>

        <script async src="https://cdn.jsdelivr.net/npm/katex-copytex@latest/dist/katex-copytex.min.js"></script>
        
    </body>
    </html>